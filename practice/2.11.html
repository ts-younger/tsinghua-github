<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN">
<head>
<title>文本框文字自动滚动效果</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script>
window.onload=function(){
	var oDiv=document.querySelector('#box');
	var oText=oDiv.innerHTML;
	var num=0;

	setClass=function(obj,cssOption){
		 if ( !obj || obj.nodeType === 3 || obj.nodeType === 8 || !obj.style ) {
            			return;
            		}
            	for(attr in cssOption){
            		obj.style[attr]=cssOption[attr];
            	}
	}
	oDiv.innerText='';
	setClass(oDiv,{'width':'150px','height':'150px','overflow':'hidden','position':'relative'})

	var oSpan=document.createElement('span');
	setClass(oSpan,{'position':'absolute','word-wrap':'break-word','width':'150px','top':num+'px','left':0})
	
	oSpan.innerHTML=oText;
	oDiv.appendChild(oSpan);
	//alert(oSpan.offsetHeight)
	//alert(oDiv.innerHTML)
	setInterval(function(){
		if(num<-oSpan.offsetHeight){
			num=oDiv.offsetHeight;
		}else{
			num-=2;
			setClass(oSpan,{'top':num+'px'})
		}
	},30)
}
</script>
</head>
    <body>
    	<h3>文本框文字自动滚动效果</h3>
    	<div id='box'>I have met many westerners in China and most them are experiencing a foreign culture for the first time. They have no benchmark to judge; therefore find it difficult because they have unrealistic expectations. To most, everything the Chinese people do is wrong because they do it differently and the result is not as well as in wealthy countries.</div>
    </body>
</html>
